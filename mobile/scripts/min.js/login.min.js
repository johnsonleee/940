(function(){document.addEventListener("DOMContentLoaded",function(){var b=document.documentElement;var a=b.clientWidth;b.style.fontSize=a/6.4+"px";},false);
})();$(function(){if($("footer").length>0){$("footer").prev("div").css({"padding-bottom":"1.13rem"});}var c=new Slideout({panel:document.getElementById("main"),menu:document.getElementById("menu"),padding:5,tolerance:70,touch:false});
document.querySelector(".js-slideout-toggle").addEventListener("click",function(){c.toggle();});document.querySelector(".menu").addEventListener("click",function(f){if(f.target.nodeName==="A"){c.close();
}});function a(g){g=g||window.document.querySelectorAll("[data-aload]"),void 0===g.length&&(g=[g]);var f,i=0,h=g.length;for(i;h>i;i+=1){f=g[i],f["LINK"!==f.tagName?"src":"href"]=f.getAttribute("data-aload"),f.removeAttribute("data-aload");
}return g;}$(".login-animation p").eq(0).animate({left:"0%"},600);$(".login-animation p").eq(1).animate({left:"0%"},400);$(".login-form").validate({rules:{username:{required:true,minlength:6,maxlength:20,},password:{required:true,minlength:6,maxlength:20,},},messages:{username:{required:"必须填写用户名",minlength:"用户名至少为6个字符",maxlength:"用户名至多为20个字符",remote:"用户名已存在",},password:{required:"必须填写密码",minlength:"密码至少为6个字符",maxlength:"密码至多为20个字符",},},});
$(".register-form").validate({rules:{username:{required:true,minlength:6,maxlength:20,},password:{required:true,minlength:6,maxlength:20,},confirm_password:{required:true,minlength:6,equalTo:".password"},captcha:{required:true,minlength:5,maxlength:5,}},messages:{username:{required:"必须填写用户名",minlength:"用户名至少为6个字符",maxlength:"用户名至多为20个字符",remote:"用户名已存在",},password:{required:"必须填写密码",minlength:"密码至少为6个字符",maxlength:"密码至多为20个字符",},confirm_password:{required:"请再次输入密码",minlength:"确认密码不能少于6个字符",equalTo:"两次输入密码不一致",},captcha:{required:"请输入图片验证码",minlength:"输入图片验证码为5个字符",maxlength:"图片验证码必须为5个字符",}}});
$(".btnCheck").click(function(){$(".login-check").toggleClass("checked");});function d(){var f=$.param({code:$(".captcha").val()});$.ajax({async:false,type:"post",url:"http://940.com/checkCode",dataType:"jsonp",data:f,jsonp:"callback",success:function(g){console.log(f);
if(g.status==0){alert(g.tips);}if(g.status==1){alert("验证码正确");}if(g.status==-1){alert("没有定义");}if(g.status==-9){alert("验证码错误");}},error:function(){alert("加载失败！");
}});}var b=$(".register-form");b.bind("submit",function(f){f.preventDefault();var g=$.param({user_name:$(".username").val(),password:$(".password").val(),captcha:$(".captcha").val()});
$.ajax({async:false,type:"get",url:"http://940.com/register",dataType:"jsonp",data:g,jsonp:"callback",success:function(h){d();if(h.status==1){alert(h.tips);
}else{if(h.status==-9){alert(h.tips);}else{alert("注册失败！");}}}});});var e=$(".login-form");e.bind("submit",function(f){f.preventDefault();var g=$.param({user_name:$(".login-user").val(),password:$(".login-passw").val()});
console.log(g);$.ajax({async:false,type:"get",url:"http://www.940.com/login",dataType:"jsonp",data:g,jsonp:"callback",success:function(h){if(h.status==1){alert(h.tips);
window.location.href="index.html";}else{if(h.status==-9){alert(h.tips);}else{alert("data.tips");}}}});});});